###########################################
## Interface Binding
###########################################
### PXE.NIC_CONF_BEGIN ###
interface=$dhcpInterface
bind-interfaces
### PXE.NIC_CONF_END ###

###########################################
## DNS Config Section
###########################################
### PXE.DNS_CONF_BEGIN ###
# Disable the DNS server if port=0, default UDP-53
# port=0
# log-queries
# listen-address=::1,127.0.0.1,$dhcpNextServer
# domain-needed
# bogus-priv
# expand-hosts
# no-resolv
# local=/$dhcpDomain/
# domain=$dhcpDomain
# server=$dhcpRouter
# # enable DNS Cache and cache-size in record
# cache-size=1000
### PXE.DNS_CONF_END ###

###########################################
## TFTP Config Section
###########################################
### PXE.TFTP_CONF_BEGIN ###
enable-tftp
tftp-root=$pxeRoot
tftp-no-fail # prevent failed while tftp-root not accessible
### PXE.TFTP_CONF_END ###

###########################################
## DHCP Config Section
###########################################
### PXE.DHCP_CONF_BEGIN ###
# Enable DHCP transaction log.
log-dhcp
# # Run as DHCP proxy
# dhcp-range=${dhcpNetAddress},proxy,${dhcpNetMask}
# Run as DHCP server
domain=$dhcpDomain
dhcp-range=$dhcpStart,$dhcpEnd,24h
# # assign static ip for certain client
# dhcp-host=AB:CD:EF:11:22:33,192.168.1.10,24h
# dhcp-host=computername,192.168.1.10,24h
dhcp-option=option:router,$dhcpRouter
dhcp-option=option:dns-server,$dhcpDnsList
dhcp-authoritative
### PXE.DHCP_CONF_END ###

###########################################
## PXEboot Options Config
###########################################
### PXE.BOOT_CONF_BEGIN ###
# Disable re-use of the DHCP servername and filename fields as extra
# option space. That's to avoid confusing some old or broken DHCP clients.
dhcp-no-override
# inspect the vendor class string and match the text to set the tag
dhcp-vendorclass=BIOS,PXEClient:Arch:00000
dhcp-vendorclass=UEFI32,PXEClient:Arch:00006
dhcp-vendorclass=UEFI,PXEClient:Arch:00007
dhcp-vendorclass=UEFI64,PXEClient:Arch:00009
# Set the boot file name based on the matching tag from the vendor class (above)
# The boot filename, Server name, Server Ip Address
dhcp-boot=net:UEFI32,ipxe-bin/i386-efi/ipxe.efi,,$dhcpNextServer
dhcp-boot=net:UEFI,ipxe-bin/ipxe.efi,,$dhcpNextServer
dhcp-boot=net:UEFI64,ipxe-bin/ipxe.efi,,$dhcpNextServer
# If no matche exists, fallback to default boot file.
dhcp-boot=ipxe-bin/undionly.kpxe,,$dhcpNextServer
# pxe-prompt before the menu load
pxe-prompt=\"PXE booting in\", 3 # wait 3 seconds
# The known types are x86PC, PC98, IA64_EFI, Alpha, Arc_x86,
# Intel_Lean_Client, IA32_EFI, BC_EFI, Xscale_EFI and X86-64_EFI
# This option is first and will be the default if there is no input from the user.
pxe-service=X86PC,\"Boot from network\",ipxe-bin/undionly.kpxe
pxe-service=X86-64_EFI,\"Boot from network\",ipxe-bin/ipxe.efi
pxe-service=BC_EFI,\"Boot from network\",ipxe-bin/i386-efi/ipxe.efi
### PXE.BOOT_CONF_END ###

###########################################
## PXEboot Static Host Config
###########################################
### PXE.STATIC_CONF_BEGIN ###
### PXE.STATIC_CONF_END ###
